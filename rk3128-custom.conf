# ============================================
# RK3128 打印机服务器自定义配置
# 基于 rock64 配置进行适配
# ============================================

# --- 板型与家族 ---
BOARD="rock64"
BOARD_NAME="RK3128 Printer Server"
BOARDFAMILY="rockchip"
LINUXFAMILY="rockchip"
BOOTCONFIG="rockchip_rk3128_defconfig"

# --- 内核与版本 ---
BRANCH="legacy"                  # 使用 legacy 内核分支
KERNEL_TARGET="legacy"          # 目标内核版本
RELEASE="jammy"                 # Ubuntu 22.04 LTS 基础
ARCH="armhf"

# --- 硬件适配 ---
KERNEL_IMAGE_TYPE="zImage"
BOOT_SOC="rk3128"
BOOT_FDT_FILE="rockchip/rk3128-echo.dtb"
SERIALCON="ttyS2,1500000"
DDR_BLOB='rk3x/rk3128_ddr_300MHz_v1.10.bin'
MINILOADER_BLOB='rk3x/rk3128_miniloader_v2.53.bin'
BL31_BLOB='rk3x/rk3128_bl31_v1.35.elf'
UBOOT_TARGET_MAP=";;idbloader.bin uboot.img trust.bin"

# --- 系统构建选项 ---
BUILD_MINIMAL="yes"
BUILD_DESKTOP="no"
BSPFREEZE="yes"
INSTALL_KERNEL="yes"
KERNEL_CONFIGURE="no"
COMPRESS_OUTPUTIMAGE="sha,gz,img"
IMAGE_PARTITION_TABLE="msdos"
BOOTFS_TYPE="fat"
ROOTFS_TYPE="ext4"
BOOTSIZE="128"

# --- 打印机服务器软件包 ---
PACKAGE_LIST_BASE="firmware-linux-free"
PACKAGE_LIST_ADDITIONAL="cups cups-client cups-filters cups-bsd cups-pdf printer-driver-all hplip sane sane-utils avahi-daemon avahi-discover network-manager usbutils"

# --- 网络配置 ---
NETWORK="network-manager"
NETWORKMANAGER="no"
WIREGUARD="no"
EXTRAWIFI="no"
EXTERNAL="no"
