# RK3128 打印机服务器自定义配置
# 基于 rock64 配置，适配 RK3128
BOARD="rock64"
BOARD_NAME="RK3128 Printer Server (Custom)"
BOARDFAMILY="rockchip"
BOOTCONFIG="rockchip_rk3128_defconfig"
KERNEL_TARGET="legacy,current"
BRANCH="legacy"
RELEASE="jammy"

# 硬件适配
ARCH="armhf"
KERNEL_IMAGE_TYPE="zImage"
LINUXFAMILY="rockchip"
BOOT_SOC="rk3128"
BOOT_SUPPORT_SPI="no"
BOOT_FDT_FILE="rockchip/rk3128-echo.dtb"
DDR_BLOB='rk3x/rk3128_ddr_300MHz_v1.10.bin'
MINILOADER_BLOB='rk3x/rk3128_miniloader_v2.53.bin'
BL31_BLOB='rk3x/rk3128_bl31_v1.35.elf'
UBOOT_TARGET_MAP=";;idbloader.bin uboot.img trust.bin"

# 系统配置
IMAGE_PARTITION_TABLE="msdos"
SERIALCON="ttyS2,1500000"
BUILD_MINIMAL="yes"
BUILD_DESKTOP="no"
BSPFREEZE="yes"
INSTALL_KERNEL="yes"
KERNEL_CONFIGURE="no"
COMPRESS_OUTPUTIMAGE="sha,gz,img"

# 打印机服务器专用配置
PACKAGE_LIST_BASE_REMOVE=""
PACKAGE_LIST_BASE="firmware-linux-free"
PACKAGE_LIST_ADDITIONAL="cups cups-client cups-filters cups-bsd cups-pdf printer-driver-all hplip sane sane-utils avahi-daemon avahi-discover network-manager usbutils"

# 网络配置
NETWORK="network-manager"
NETWORKMANAGER="no"
WIREGUARD="no"
EXTRAWIFI="no"

# 存储配置
BOOTFS_TYPE="fat"
ROOTFS_TYPE="ext4"
BOOTSIZE="128"
UBOOT_USE_GCC="> 7.0"
OVERLAY_PREFIX='rockchip'
