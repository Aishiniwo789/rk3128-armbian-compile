# RK3128 打印机服务器专用配置
BOARD="rk3128"
BOARD_NAME="RK3128 Printer Server"
BOARDFAMILY="rockchip"
BUILD_REPOSITORY_URL="https://github.com/armbian/build"
BOARD_MAINTAINER="custom"
BOOTCONFIG="rockchip_rk3128_defconfig"
KERNEL_TARGET="legacy"
FULL_DESKTOP="no"
KERNEL_IMAGE_TYPE="zImage"
SERIALCON="ttyS2,1500000"
FORCE_BOOTSCRIPT_UPDATE="yes"
INITRD_ARCH="arm"
IMAGE_PARTITION_TABLE="msdos"
BOOT_FDT_FILE="rockchip/rk3128-echo.dtb"

# 硬件配置
MODULES_LEGACY="g_serial g_printer usb_f_printer usb_f_ecm usb_f_rndis"
MODULES_BLACKLIST="drm rockchipdrm panel_simple"

# 功能配置
INSTALL_KERNEL="yes"
INSTALL_HEADERS="no"
BUILD_MINIMAL="yes"
BUILD_DESKTOP="no"
BSPFREEZE="yes"

# 网络配置
NETWORK="network-manager"
NETWORK_CONFIG="dhcp"
NETWORKMANAGER="no"
WIREGUARD="no"

# 服务配置
ENABLE_SSH="yes"
EXTERNAL="no"
EXTRAWIFI="no"
BUILD_KSRC="no"

# 存储配置
BOOTFS_TYPE="fat"
ROOTFS_TYPE="ext4"
BOOTSIZE="128"
DISK_MOUNTPOINTS="/mnt/data,/mnt/usb"
OVERLAY_PREFIX='rockchip'
DDR_BLOB='rk3x/rk3128_ddr_300MHz_v1.10.bin'
MINILOADER_BLOB='rk3x/rk3128_miniloader_v2.53.bin'
BL31_BLOB='rk3x/rk3128_bl31_v1.35.elf'

# 打印机服务器专用配置
PACKAGE_LIST_ADDITIONAL="cups cups-client cups-filters cups-bsd cups-pdf printer-driver-all hplip sane sane-utils avahi-daemon avahi-discover"
